@import 'tailwindcss';

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

:root inline {
  /* Custom Color Palette in OKLCH format */
  --color-oxford-blue: oklch(0.25 0.11 261);
  --color-white: oklch(1 0 0);
  --color-platinum: oklch(0.92 0 0);
  --color-orange-web: oklch(0.78 0.19 73);
  --color-black: oklch(0 0 0);

  /* Semantic color mappings */
  --color-primary: var(--color-oxford-blue);
  --color-secondary: var(--color-orange-web);
  --color-accent: var(--color-orange-web);
  --color-neutral: var(--color-platinum);
  --color-surface: var(--color-white);
  --color-text: var(--color-oxford-blue);
  --color-text-light: oklch(0.55 0.05 261);
  --color-text-muted: oklch(0.45 0.05 261);

  /* Extended palette for UI elements */
  --color-primary-50: oklch(0.95 0.02 261);
  --color-primary-100: oklch(0.9 0.04 261);
  --color-primary-200: oklch(0.8 0.06 261);
  --color-primary-300: oklch(0.7 0.08 261);
  --color-primary-400: oklch(0.6 0.09 261);
  --color-primary-500: oklch(0.5 0.1 261);
  --color-primary-600: oklch(0.4 0.11 261);
  --color-primary-700: oklch(0.3 0.11 261);
  --color-primary-800: oklch(0.2 0.11 261);
  --color-primary-900: oklch(0.15 0.11 261);

  --color-secondary-50: oklch(0.95 0.04 73);
  --color-secondary-100: oklch(0.9 0.08 73);
  --color-secondary-200: oklch(0.85 0.12 73);
  --color-secondary-300: oklch(0.8 0.15 73);
  --color-secondary-400: oklch(0.75 0.17 73);
  --color-secondary-500: oklch(0.7 0.18 73);
  --color-secondary-600: oklch(0.65 0.19 73);
  --color-secondary-700: oklch(0.6 0.19 73);
  --color-secondary-800: oklch(0.55 0.19 73);
  --color-secondary-900: oklch(0.5 0.19 73);

  /* Neutral grays */
  --color-gray-50: oklch(0.98 0 0);
  --color-gray-100: oklch(0.95 0 0);
  --color-gray-200: oklch(0.9 0 0);
  --color-gray-300: oklch(0.85 0 0);
  --color-gray-400: oklch(0.7 0 0);
  --color-gray-500: oklch(0.55 0 0);
  --color-gray-600: oklch(0.45 0 0);
  --color-gray-700: oklch(0.35 0 0);
  --color-gray-800: oklch(0.25 0 0);
  --color-gray-900: oklch(0.15 0 0);
}

@theme {
  --color-oxford-blue: oklch(0.25 0.11 261);
  --color-white: oklch(1 0 0);
  --color-platinum: oklch(0.92 0 0);
  --color-orange-web: oklch(0.78 0.19 73);
  --color-black: oklch(0 0 0);

  /* Primary color palette */
  --color-primary-50: oklch(0.95 0.02 261);
  --color-primary-100: oklch(0.9 0.04 261);
  --color-primary-200: oklch(0.8 0.06 261);
  --color-primary-300: oklch(0.7 0.08 261);
  --color-primary-400: oklch(0.6 0.09 261);
  --color-primary-500: oklch(0.5 0.1 261);
  --color-primary-600: oklch(0.4 0.11 261);
  --color-primary-700: oklch(0.3 0.11 261);
  --color-primary-800: oklch(0.2 0.11 261);
  --color-primary-900: oklch(0.15 0.11 261);
  --color-primary-950: oklch(0.1 0.11 261);

  /* Secondary/Orange palette */
  --color-secondary-50: oklch(0.95 0.04 73);
  --color-secondary-100: oklch(0.9 0.08 73);
  --color-secondary-200: oklch(0.85 0.12 73);
  --color-secondary-300: oklch(0.8 0.15 73);
  --color-secondary-400: oklch(0.75 0.17 73);
  --color-secondary-500: oklch(0.7 0.18 73);
  --color-secondary-600: oklch(0.65 0.19 73);
  --color-secondary-700: oklch(0.6 0.19 73);
  --color-secondary-800: oklch(0.55 0.19 73);
  --color-secondary-900: oklch(0.5 0.19 73);
  --color-secondary-950: oklch(0.45 0.19 73);

  /* Neutral grays */
  --color-gray-50: oklch(0.98 0 0);
  --color-gray-100: oklch(0.95 0 0);
  --color-gray-200: oklch(0.9 0 0);
  --color-gray-300: oklch(0.85 0 0);
  --color-gray-400: oklch(0.7 0 0);
  --color-gray-500: oklch(0.55 0 0);
  --color-gray-600: oklch(0.45 0 0);
  --color-gray-700: oklch(0.35 0 0);
  --color-gray-800: oklch(0.25 0 0);
  --color-gray-900: oklch(0.15 0 0);
  --color-gray-950: oklch(0.1 0 0);
}

@theme inline {
  /* Custom colors for Atom theme */
  --color-atom-bg: #1d1f21;
  --color-atom-text: #c5c8c6;
  --color-atom-comment: #969896;
  --color-atom-red: #cc6666;
  --color-atom-orange: #de935f;
  --color-atom-yellow: #f0c674;
  --color-atom-green: #b5bd68;
  --color-atom-aqua: #8abeb7;
  --color-atom-blue: #81a2be;
  --color-atom-purple: #b294bb;
  --color-atom-selection: #373b41;
  --color-atom-line-highlight: #2f3129;
}

@layer components {
  .typography {
    @apply text-gray-800 dark:text-gray-200;
    line-height: var(--leading-relaxed);

    h1 {
      font-size: var(--text-3xl);
      font-weight: var(--font-weight-bold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 2rem;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      @apply border-b border-gray-200 dark:border-gray-700;
    }

    h2 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    h3 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 1.25rem;
      margin-bottom: 0.5rem;
    }

    h4 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }

    h5 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 0.75rem;
      margin-bottom: 0.5rem;
    }

    h6 {
      font-size: var(--text-sm);
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
      margin-top: 0.75rem;
      margin-bottom: 0.5rem;
    }

    p {
      font-size: var(--text-base);
      @apply text-gray-700 dark:text-gray-300;
      margin-bottom: 1rem;
      line-height: var(--leading-normal);
    }

    a {
      @apply text-secondary-600 dark:text-secondary-400;
      text-decoration: underline;
      @apply decoration-secondary-300 dark:decoration-secondary-600;
      transition: color 0.2s ease;

      &:hover {
        @apply text-secondary-800 dark:text-secondary-300;
        @apply decoration-secondary-500 dark:decoration-secondary-400;
      }
    }

    strong {
      font-weight: var(--font-weight-semibold);
      @apply text-gray-900 dark:text-gray-100;
    }

    em {
      font-style: italic;
      @apply text-gray-700 dark:text-gray-300;
    }

    ul {
      list-style-type: disc;
      padding-left: 1.5rem;
      margin-bottom: 1rem;

      li {
        @apply text-gray-700 dark:text-gray-300;
        line-height: var(--leading-normal);
        margin-bottom: 0.5rem;

        ul,
        ol {
          margin-top: 0.5rem;
          margin-left: 1.5rem;
          margin-bottom: 0;
        }
      }
    }

    ol {
      list-style-type: decimal;
      padding-left: 1.5rem;
      margin-bottom: 1rem;

      li {
        @apply text-gray-700 dark:text-gray-300;
        line-height: var(--leading-normal);
        margin-bottom: 0.5rem;

        ul,
        ol {
          margin-top: 0.5rem;
          margin-left: 1.5rem;
          margin-bottom: 0;
        }
      }
    }

    blockquote {
      @apply border-l-4 border-gray-300 dark:border-gray-600;
      padding-left: 1rem;
      font-style: italic;
      @apply text-gray-600 dark:text-gray-400;
      margin: 1rem 0;
      @apply bg-gray-50 dark:bg-gray-800;
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      @apply border border-gray-300 dark:border-gray-600;
      margin: 1rem 0;

      th {
        @apply bg-gray-100 dark:bg-gray-800;
        @apply border border-gray-300 dark:border-gray-600;
        padding: 0.75rem 1rem;
        text-align: left;
        font-weight: var(--font-weight-semibold);
        @apply text-gray-900 dark:text-gray-100;
      }

      td {
        @apply border border-gray-300 dark:border-gray-600;
        padding: 0.75rem 1rem;
        @apply text-gray-700 dark:text-gray-300;
      }
    }

    hr {
      margin: 2rem 0;
      @apply border-t border-gray-300 dark:border-gray-600;
    }

    /* Code Styling with Atom Theme */
    code {
      @apply bg-gray-100 dark:bg-gray-800;
      @apply text-gray-800 dark:text-gray-200;
      padding: 0.125rem 0.25rem;
      border-radius: var(--radius-sm);
      font-size: var(--text-sm);
      font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    }

    pre {
      background-color: var(--color-atom-bg);
      color: var(--color-atom-text);
      border-radius: var(--radius-lg);
      overflow-x: auto;
      margin: 1rem 0;
      padding: 1rem;
      font-size: var(--text-sm);
      line-height: var(--leading-normal);

      code {
        background-color: transparent;
        color: inherit;
        padding: 0;
        border-radius: 0;
        font-family: 'Fira Code', 'Monaco', 'Cascadia Code', 'Roboto Mono', ui-monospace, SFMono-Regular, monospace;

        /* Atom Theme Syntax Highlighting */
        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
          color: var(--color-atom-comment);
          font-style: italic;
        }

        .token.punctuation {
          color: var(--color-atom-text);
        }

        .token.property,
        .token.tag,
        .token.boolean,
        .token.number,
        .token.constant,
        .token.symbol,
        .token.deleted {
          color: var(--color-atom-red);
        }

        .token.selector,
        .token.attr-name,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
          color: var(--color-atom-green);
        }

        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string {
          color: var(--color-atom-aqua);
        }

        .token.atrule,
        .token.attr-value,
        .token.keyword {
          color: var(--color-atom-blue);
        }

        .token.function,
        .token.class-name {
          color: var(--color-atom-yellow);
        }

        .token.regex,
        .token.important,
        .token.variable {
          color: var(--color-atom-orange);
        }

        .token.important,
        .token.bold {
          font-weight: var(--font-weight-bold);
        }

        .token.italic {
          font-style: italic;
        }

        .token.entity {
          cursor: help;
        }

        /* Line highlighting */
        .highlight-line {
          background-color: var(--color-atom-line-highlight);
          display: block;
          margin-right: -1rem;
          margin-left: -1rem;
          padding-right: 1rem;
          padding-left: 0.75rem;
          border-left: 0.25rem solid var(--color-atom-blue);
        }
      }
    }

    /* Code block with language label */
    pre[class*='language-'] {
      position: relative;

      &:before {
        content: attr(data-language);
        position: absolute;
        top: 0;
        right: 0;
        background-color: var(--color-atom-selection);
        color: var(--color-atom-text);
        padding: 0.25rem 0.5rem;
        font-size: var(--text-xs);
        text-transform: uppercase;
        letter-spacing: var(--tracking-wide);
        border-bottom-left-radius: var(--radius-sm);
      }
    }

    /* Inline code in headings */
    h1 code,
    h2 code,
    h3 code,
    h4 code,
    h5 code,
    h6 code {
      @apply bg-gray-200 dark:bg-gray-700;
      @apply text-gray-800 dark:text-gray-200;
    }

    /* Images */
    img {
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      margin: 1rem 0;
      max-width: 100%;
      height: auto;
    }

    /* Figure and figcaption */
    figure {
      margin: 1.5rem 0;

      figcaption {
        font-size: var(--text-sm);
        @apply text-gray-600 dark:text-gray-400;
        text-align: center;
        margin-top: 0.5rem;
        font-style: italic;
      }
    }

    /* Responsive adjustments */
    @media (max-width: 640px) {
      h1 {
        font-size: var(--text-2xl);
      }

      h2 {
        font-size: var(--text-xl);
      }

      h3 {
        font-size: var(--text-lg);
      }

      pre {
        font-size: var(--text-xs);
      }
    }
  }
}

a:not([disabled]),
button:not([disabled]) {
  @apply cursor-pointer;
}
